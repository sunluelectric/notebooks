\newtheorem{theorem}{Theorem}
\newtheorem{exercise}{Exercise}[chapter]
\newtheorem{example}{Example}
\newtheorem{definition}{Definition}
\newtheorem{proof}{Proof}

\lstset{
basicstyle=\small\ttfamily,
columns=flexible,
breaklines=true
} 

\frenchspacing
\tolerance=5000 